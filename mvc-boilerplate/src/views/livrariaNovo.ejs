<!-- filepath: c:\Boilerplate-pessoal\mvc-boilerplate\src\views\livrariaNovo.ejs -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Cadastrar - Livraria</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="container">
    <h1>Cadastrar Autor, Livro ou Venda</h1>

    <div class="feedback" id="feedback"></div>

    <div class="form-container">
      <div class="form-section">
        <h2>Novo Autor</h2>
        <form id="autorForm" method="POST" action="/livraria/novo/autor" class="register-form">
          <div class="form-group">
            <label>Nome:</label>
            <input type="text" name="nome" required>
          </div>
          <div class="form-group">
            <label>Nacionalidade:</label>
            <input type="text" name="nacionalidade">
          </div>
          <button type="submit" class="btn-submit">Cadastrar Autor</button>
        </form>
      </div>

      <div class="form-section">
        <h2>Novo Livro</h2>
        <form id="livroForm" method="POST" action="/livraria/novo/livro" class="register-form">
          <div class="form-group">
            <label>Título:</label>
            <input type="text" name="titulo" required>
          </div>
          <div class="form-group">
            <label>Ano de Publicação:</label>
            <input type="number" name="ano_publicacao">
          </div>
          <div class="form-group">
            <label>Preço:</label>
            <input type="number" step="0.01" name="preco">
          </div>
          <div class="form-group">
            <label>Autor:</label>
            <select name="id_autor">
              <option value="">Selecione</option>
              <% autores.forEach(autor => { %>
                <option value="<%= autor.id %>"><%= autor.nome %></option>
              <% }) %>
            </select>
          </div>
          <button type="submit" class="btn-submit">Cadastrar Livro</button>
        </form>
      </div>

      <div class="form-section">
        <h2>Nova Venda</h2>
        <form id="vendaForm" method="POST" action="/livraria/novo/venda" class="register-form">
          <div class="form-group">
            <label>Livro:</label>
            <select name="id_livro">
              <option value="">Selecione</option>
              <% livros.forEach(livro => { %>
                <option value="<%= livro.id %>"><%= livro.titulo %></option>
              <% }) %>
            </select>
          </div>
          <div class="form-group">
            <label>Data da Venda:</label>
            <input type="date" name="data_venda">
          </div>
          <div class="form-group">
            <label>Quantidade:</label>
            <input type="number" name="quantidade">
          </div>
          <button type="submit" class="btn-submit">Cadastrar Venda</button>
        </form>
      </div>
    </div>

    <a href="/livraria" class="btn-back">Voltar para a listagem</a>
  </div>

  <script src="/js/livraria.js"></script>
</body>
</html>